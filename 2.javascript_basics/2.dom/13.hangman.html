<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>5-Letter Hangman Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #word {
            font-size: 2rem;
            letter-spacing: 10px;
            margin-bottom: 20px;
        }
        /* ë‚¨ì€ ê¸°íšŒ ëŒ€ì‹  ì‹œë„ íšŸìˆ˜ì— ìŠ¤íƒ€ì¼ ì ìš© */
        #tries, #usedLetters {
            font-weight: bold;
        }
        #message {
            margin-top: 15px;
            height: 24px;
        }
        input[type="text"] {
            width: 40px;
            text-align: center;
            font-size: 1.2rem;
        }
        button {
            margin: 5px;
            padding: 6px 12px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>5 Words Hangman</h1>

    <!-- ë§ì¶°ì•¼ í•  ë‹¨ì–´ í‘œì‹œ ì˜ì—­ -->
    <div id="word">_ _ _ _ _</div>

    <!-- âœ… ë‚¨ì€ ê¸°íšŒ ëŒ€ì‹  "ì‹œë„í•œ íšŸìˆ˜" í‘œì‹œ -->
    <div>ì‹œë„í•œ íšŸìˆ˜: <span id="tries"></span></div>
    <div>ì‚¬ìš©í•œ ê¸€ì: <span id="usedLetters"></span></div>

    <!-- ê¸€ì ì…ë ¥ ì˜ì—­ -->
    <div style="margin-top: 20px;">
        <input type="text" id="letterInput" maxlength="1" autocomplete="off">
        <button id="guessBtn">ê¸€ì ë§ì¶”ê¸°</button>
        <button id="newGameBtn">ìƒˆ ê²Œì„</button>
    </div>

    <div id="message"></div>

    <script>
        // 5ê¸€ì ë‹¨ì–´ ëª©ë¡
        const WORDS = ["apple", "watch", "train", "light", "mouse"];

        let answer = "";        // ì •ë‹µ ë‹¨ì–´
        let display = [];       // í™”ë©´ì— ë³´ì´ëŠ” ìƒíƒœ (['_', 'p', '_', ...])
        let tries = 0;          // ì§€ê¸ˆê¹Œì§€ ì‹œë„í•œ íšŸìˆ˜
        let usedLetters = [];   // ì´ë¯¸ ì‹œë„í•œ ê¸€ìë“¤
        let isGameOver = false; // ë‹¨ì–´ë¥¼ ëª¨ë‘ ë§ì·„ëŠ”ì§€ ì—¬ë¶€

        const wordEl = document.getElementById("word");
        const triesEl = document.getElementById("tries");
        const usedLettersEl = document.getElementById("usedLetters");
        const messageEl = document.getElementById("message");
        const letterInput = document.getElementById("letterInput");
        const guessBtn = document.getElementById("guessBtn");
        const newGameBtn = document.getElementById("newGameBtn");

        // ìƒˆ ê²Œì„ ì‹œì‘
        function startGame() {
            answer = WORDS[Math.floor(Math.random() * WORDS.length)];
            display = Array(answer.length).fill("_");
            tries = 0;              // ì‹œë„ íšŸìˆ˜ ì´ˆê¸°í™”
            usedLetters = [];
            isGameOver = false;

            updateScreen();
            messageEl.textContent = "ì•ŒíŒŒë²³ í•œ ê¸€ìì”© ë§ì¶°ë³´ì„¸ìš”!";
            letterInput.value = "";
            letterInput.focus();
        }

        // í™”ë©´ ê°±ì‹ 
        function updateScreen() {
            wordEl.textContent = display.join(" ");
            triesEl.textContent = tries;
            usedLettersEl.textContent = usedLetters.join(", ");
        }

        // ê¸€ì ì¶”ì¸¡
        function guessLetter() {
            if (isGameOver) return;

            let letter = letterInput.value.toLowerCase();
            letterInput.value = "";
            letterInput.focus();

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!letter || letter < "a" || letter > "z") {
                messageEl.textContent = "a~z ì•ŒíŒŒë²³ í•œ ê¸€ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
                return;
            }

            // ì´ë¯¸ ì‚¬ìš©í•œ ê¸€ìì¸ì§€ í™•ì¸
            if (usedLetters.includes(letter)) {
                messageEl.textContent = `"${letter}" ëŠ” ì´ë¯¸ ì‚¬ìš©í•œ ê¸€ìì…ë‹ˆë‹¤.`;
                return;
            }

            // âœ… ì—¬ê¸°ì„œë¶€í„°ëŠ” "ìƒˆë¡œìš´ ì‹œë„" ì´ë¯€ë¡œ ì‹œë„ íšŸìˆ˜ +1
            tries++;
            usedLetters.push(letter);

            // ì •ë‹µì— í¬í•¨ë˜ëŠ”ì§€ í™•ì¸
            if (answer.includes(letter)) {
                for (let i = 0; i < answer.length; i++) {
                    if (answer[i] === letter) {
                        display[i] = letter;
                    }
                }
                messageEl.textContent = `"${letter}" ë§ì·„ì–´ìš”!`;

                // ëª¨ë“  ê¸€ìë¥¼ ë§ì·„ëŠ”ì§€ í™•ì¸
                if (!display.includes("_")) {
                    messageEl.textContent = `ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¨ì–´ëŠ” "${answer}" ì˜€ìŠµë‹ˆë‹¤. ì´ ${tries}ë²ˆ ì‹œë„í–ˆì–´ìš”. ğŸ‰`;
                    isGameOver = true;
                }
            } else {
                // ì˜¤ë‹µì´ì§€ë§Œ ê²Œì„ì€ ê³„ì† ì§„í–‰ (ëª©ìˆ¨ ì—†ìŒ)
                messageEl.textContent = `"${letter}" ëŠ” ë‹¨ì–´ì— ì—†ìŠµë‹ˆë‹¤. ê³„ì† ì‹œë„í•´ë³´ì„¸ìš”.`;
            }

            updateScreen();
        }

        // ì´ë²¤íŠ¸ ì—°ê²°
        guessBtn.addEventListener("click", guessLetter);
        letterInput.addEventListener("keydown", function (e) {
            if (e.key === "Enter") {
                guessLetter();
            }
        });
        newGameBtn.addEventListener("click", startGame);

        // ì²˜ìŒ ë¡œë“œ ì‹œ ê²Œì„ ì‹œì‘
        startGame();
    </script>
</body>
</html>


<!--
// ë¬´ì‘ìœ„ ëŒ€ì… #1. ê³µê²© ì½”ë“œ ê°œë°œ (í”„ë¡œí† íƒ€ì…)
const letters = "abcdefghijklmnopqrstuvwxyz"; // a~z ë¬¸ìì—´
let index = 0;                                // í˜„ì¬ ì¸ë±ìŠ¤

const timerId = setInterval(() => {
    // ëª¨ë“  ê¸€ìë¥¼ ë‹¤ ì°ì—ˆìœ¼ë©´ íƒ€ì´ë¨¸ ì •ì§€
    if (index >= letters.length) {
        clearInterval(timerId);
        return;
    }

    const ch = letters[index]; // í˜„ì¬ ê¸€ì
    console.log(ch);           // ì½˜ì†”ì— ì¶œë ¥
    index++;                   // ë‹¤ìŒ ê¸€ìë¡œ ì´ë™
}, 100); // 100ms ê°„ê²©
-->

<!--
// ë¬´ì‘ìœ„ ëŒ€ì… #2. ì‹¤ì œ ê³µê²© ì½”ë“œ
(function () {
    const input  = document.querySelector("input[type='text'], input:not([type])");
    const button = document.querySelector("button, input[type='submit']");
    if (!input || !button) {
        console.log("inputì´ë‚˜ buttonì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.");
        return;
    }

    const letters = "abcdefghijklmnopqrstuvwxyz";
    let index = 0;

    input.focus();

    const timer = setInterval(() => {
        if (index >= letters.length) {
            clearInterval(timer);
            console.log("ì™„ë£Œ");
            return;
        }

        const ch = letters[index];
        input.value = ch;

        // ê°’ì´ ë°”ë€Œì—ˆë‹¤ëŠ” ì •ë„ë§Œ ì•Œë¦¬ê¸° (í•„ìš” ì‹œ)
        input.dispatchEvent(new Event("input", { bubbles: true }));

        // ë²„íŠ¼ í´ë¦­
        button.click();

        console.log("try:", ch);
        index++;
    }, 100);
})();

-->