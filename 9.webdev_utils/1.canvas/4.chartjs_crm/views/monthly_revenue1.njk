<!-- views/monthly_revenue1.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Monthly Revenue</title>
</head>
<body>
    <h1>Monthly Revenue</h1>
    <table>
        <tr>
            <th>Year-Month</th>
            <th>Monthly Revenue</th>
        </tr>
        {% for row in rows %}
        <tr>
            <td>{{ row.YearMonth }}</td>
            <td>{{ row.MonthlyRevenue }}</td>
        </tr>
        {% endfor %}
    </table>

    <script>
        // labels와 revenues를 Nunjucks 템플릿에서 분리
        const labels = [{% for row in rows %}"{{ row.YearMonth }}"{% if not loop.last %}, {% endif %}{% endfor %}];
        const revenues = [{% for row in rows %}{{ row.MonthlyRevenue }}{% if not loop.last %}, {% endif %}{% endfor %}];

        console.log(labels);
        console.log(revenues);
    </script>
</body>
</html>
